/sb/ProjectKudos.sol
jar:file:/usr/local/lib/node_modules/@smartdec/smartcheck/jdeploy-bundle/smartcheck-2.0-jar-with-dependencies.jar!/solidity-rules.xmlruleId: SOLIDITY_ARRAY_LENGTH_MANIPULATION
patternId: 872bdd
severity: 1
line: 274
column: 12
content: idx.projects.length+=1

ruleId: SOLIDITY_ARRAY_LENGTH_MANIPULATION
patternId: 872bdd
severity: 1
line: 275
column: 12
content: idx.kudos.length+=1

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 187b5a
severity: 1
line: 143
column: 25
content: sha3

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 107
column: 33
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 131
column: 57
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 162
column: 48
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 167
column: 26
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 170
column: 32
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 317
column: 36
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 333
column: 36
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 334
column: 35
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 49bd2a
severity: 1
line: 342
column: 33
content: throw

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 28fa69
severity: 1
line: 191
column: 4
content: functiongetProjectKudos(stringprojectCode)constantreturns(uint){bytes32code=strToBytes(projectCode);ProjectInfoproject=projects[code];returnproject.kudosTotal;}

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 28fa69
severity: 1
line: 206
column: 4
content: functiongetProjectKudosByUsers(stringprojectCode,address[]users)constantreturns(uint[]){bytes32code=strToBytes(projectCode);ProjectInfoproject=projects[code];mapping(address=>uint)kudosByUser=project.kudosByUser;uint[]memoryuserKudos=newuint[](users.length);for(uinti=0;i<users.length;i++){userKudos[i]=kudosByUser[users[i]];}returnuserKudos;}

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 28fa69
severity: 1
line: 227
column: 4
content: functiongetKudosPerProject(addressgiver)constantreturns(bytes32[]projects,uint[]kudos){UserIndexidx=usersIndex[giver];projects=idx.projects;kudos=idx.kudos;}

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 28fa69
severity: 1
line: 239
column: 4
content: functiongetKudosLeft(addressaddr)constantreturns(uint){UserInfouser=users[addr];returnuser.kudosLimit-user.kudosGiven;}

ruleId: SOLIDITY_DEPRECATED_CONSTRUCTIONS
patternId: 28fa69
severity: 1
line: 250
column: 4
content: functiongetKudosGiven(addressaddr)constantreturns(uint){UserInfouser=users[addr];returnuser.kudosGiven;}

ruleId: SOLIDITY_EXTRA_GAS_IN_LOOPS
patternId: d3j11j
severity: 1
line: 211
column: 8
content: for(uinti=0;i<users.length;i++){userKudos[i]=kudosByUser[users[i]];}

ruleId: SOLIDITY_FUNCTIONS_RETURNS_TYPE_AND_NO_RETURN
patternId: 58bdd3
severity: 1
line: 315
column: 4
content: functionstrToBytes(stringstr)privatereturns(bytes32ret){if(bytes(str).length>32)throw;assembly{ret:=mload(add(str,32))}}

ruleId: SOLIDITY_GAS_LIMIT_IN_LOOPS
patternId: f6f853
severity: 2
line: 211
column: 8
content: for(uinti=0;i<users.length;i++){userKudos[i]=kudosByUser[users[i]];}

ruleId: SOLIDITY_PRAGMAS_VERSION
patternId: 23fc32
severity: 1
line: 1
column: 16
content: ^

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 107
column: 8
content: if(user.kudosLimit>0)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 131
column: 8
content: if(giver.kudosGiven+kudos>giver.kudosLimit)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 161
column: 8
content: if(grantReason!=GrantReason.Facebook&&grantReason!=GrantReason.Twitter)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 167
column: 8
content: if(user.isJudge)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 170
column: 8
content: if(user.grant[reason])throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 317
column: 8
content: if(bytes(str).length>32)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 333
column: 8
content: if(now<votePeriod.start)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 334
column: 8
content: if(now>=votePeriod.end)throw;

ruleId: SOLIDITY_REVERT_REQUIRE
patternId: c56b12
severity: 1
line: 342
column: 8
content: if(msg.sender!=owner)throw;

ruleId: SOLIDITY_UPGRADE_TO_050
patternId: 341gim
severity: 1
line: 315
column: 24
content: stringstr

ruleId: SOLIDITY_UPGRADE_TO_050
patternId: 441gim
severity: 1
line: 105
column: 8
content: UserInfouser=users[userAddres]

ruleId: SOLIDITY_UPGRADE_TO_050
patternId: 441gim
severity: 1
line: 129
column: 8
content: UserInfogiver=users[msg.sender]

ruleId: SOLIDITY_UPGRADE_TO_050
patternId: 441gim
severity: 1
line: 134
column: 8
content: ProjectInfoproject=projects[code]

ruleId: SOLIDITY_UPGRADE_TO_050
patternId: 441gim
severity: 1
line: 157
column: 8
content: UserInfouser=users[userToGrant]

ruleId: SOLIDITY_UPGRADE_TO_050
patternId: 441gim
severity: 1
line: 193
column: 8
content: ProjectInfoproject=projects[code]

ruleId: SOLIDITY_UPGRADE_TO_050
patternId: 441gim
severity: 1
line: 208
column: 8
content: ProjectInfoproject=projects[code]

ruleId: SOLIDITY_UPGRADE_TO_050
patternId: 441gim
severity: 1
line: 228
column: 8
content: UserIndexidx=usersIndex[giver]

ruleId: SOLIDITY_UPGRADE_TO_050
patternId: 441gim
severity: 1
line: 240
column: 8
content: UserInfouser=users[addr]

ruleId: SOLIDITY_UPGRADE_TO_050
patternId: 441gim
severity: 1
line: 251
column: 8
content: UserInfouser=users[addr]

ruleId: SOLIDITY_UPGRADE_TO_050
patternId: 441gim
severity: 1
line: 268
column: 8
content: UserIndexidx=usersIndex[msg.sender]

ruleId: SOLIDITY_USING_INLINE_ASSEMBLY
patternId: 109cd5
severity: 1
line: 319
column: 8
content: assembly{ret:=mload(add(str,32))}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 86
column: 4
content: functionProjectKudos(){owner=msg.sender;votePeriod=VotePeriod(1479996000,1482415200);}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 103
column: 4
content: functionregister(addressuserAddres,boolisJudge)onlyOwner{UserInfouser=users[userAddres];if(user.kudosLimit>0)throw;if(isJudge)user.kudosLimit=KUDOS_LIMIT_JUDGE;elseuser.kudosLimit=KUDOS_LIMIT_USER;user.isJudge=isJudge;users[userAddres]=user;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 127
column: 4
content: functiongiveKudos(stringprojectCode,uintkudos)duringVote{UserInfogiver=users[msg.sender];if(giver.kudosGiven+kudos>giver.kudosLimit)throw;bytes32code=strToBytes(projectCode);ProjectInfoproject=projects[code];giver.kudosGiven+=kudos;project.kudosTotal+=kudos;project.kudosByUser[msg.sender]+=kudos;updateUsersIndex(code,project.kudosByUser[msg.sender]);Vote(msg.sender,sha3(projectCode),kudos);}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 155
column: 4
content: functiongrantKudos(addressuserToGrant,uintreason)onlyOwner{UserInfouser=users[userToGrant];GrantReasongrantReason=grantUintToReason(reason);if(grantReason!=GrantReason.Facebook&&grantReason!=GrantReason.Twitter)throw;if(user.isJudge)throw;if(user.grant[reason])throw;user.kudosLimit+=100;user.grant[reason]=true;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 191
column: 4
content: functiongetProjectKudos(stringprojectCode)constantreturns(uint){bytes32code=strToBytes(projectCode);ProjectInfoproject=projects[code];returnproject.kudosTotal;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 206
column: 4
content: functiongetProjectKudosByUsers(stringprojectCode,address[]users)constantreturns(uint[]){bytes32code=strToBytes(projectCode);ProjectInfoproject=projects[code];mapping(address=>uint)kudosByUser=project.kudosByUser;uint[]memoryuserKudos=newuint[](users.length);for(uinti=0;i<users.length;i++){userKudos[i]=kudosByUser[users[i]];}returnuserKudos;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 227
column: 4
content: functiongetKudosPerProject(addressgiver)constantreturns(bytes32[]projects,uint[]kudos){UserIndexidx=usersIndex[giver];projects=idx.projects;kudos=idx.kudos;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 239
column: 4
content: functiongetKudosLeft(addressaddr)constantreturns(uint){UserInfouser=users[addr];returnuser.kudosLimit-user.kudosGiven;}

ruleId: SOLIDITY_VISIBILITY
patternId: 910067
severity: 1
line: 250
column: 4
content: functiongetKudosGiven(addressaddr)constantreturns(uint){UserInfouser=users[addr];returnuser.kudosGiven;}

ruleId: SOLIDITY_VISIBILITY
patternId: b51ce0
severity: 1
line: 15
column: 4
content: uintKUDOS_LIMIT_JUDGE=1000;

ruleId: SOLIDITY_VISIBILITY
patternId: b51ce0
severity: 1
line: 18
column: 4
content: uintKUDOS_LIMIT_USER=10;

ruleId: SOLIDITY_VISIBILITY
patternId: b51ce0
severity: 1
line: 57
column: 4
content: addressowner;

ruleId: SOLIDITY_VISIBILITY
patternId: b51ce0
severity: 1
line: 60
column: 4
content: VotePeriodvotePeriod;

ruleId: SOLIDITY_VISIBILITY
patternId: b51ce0
severity: 1
line: 63
column: 4
content: mapping(address=>UserInfo)users;

ruleId: SOLIDITY_VISIBILITY
patternId: b51ce0
severity: 1
line: 67
column: 4
content: mapping(address=>UserIndex)usersIndex;

ruleId: SOLIDITY_VISIBILITY
patternId: b51ce0
severity: 1
line: 70
column: 4
content: mapping(bytes32=>ProjectInfo)projects;

SOLIDITY_VISIBILITY :16
SOLIDITY_DEPRECATED_CONSTRUCTIONS :15
SOLIDITY_PRAGMAS_VERSION :1
SOLIDITY_ARRAY_LENGTH_MANIPULATION :2
SOLIDITY_REVERT_REQUIRE :9
SOLIDITY_FUNCTIONS_RETURNS_TYPE_AND_NO_RETURN :1
SOLIDITY_EXTRA_GAS_IN_LOOPS :1
SOLIDITY_UPGRADE_TO_050 :11
SOLIDITY_GAS_LIMIT_IN_LOOPS :1
SOLIDITY_USING_INLINE_ASSEMBLY :1
